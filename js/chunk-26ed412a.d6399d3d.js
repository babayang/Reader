(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-26ed412a"],{1276:function(t,e,i){"use strict";var n=i("d784"),o=i("44e7"),s=i("825a"),a=i("1d80"),r=i("4840"),h=i("8aa5"),u=i("50c4"),c=i("14c3"),l=i("9263"),f=i("9f7f"),d=f.UNSUPPORTED_Y,m=[].push,v=Math.min,p=4294967295;n("split",2,(function(t,e,i){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,i){var n=String(a(this)),s=void 0===i?p:i>>>0;if(0===s)return[];if(void 0===t)return[n];if(!o(t))return e.call(n,t,s);var r,h,u,c=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),d=0,v=new RegExp(t.source,f+"g");while(r=l.call(v,n)){if(h=v.lastIndex,h>d&&(c.push(n.slice(d,r.index)),r.length>1&&r.index<n.length&&m.apply(c,r.slice(1)),u=r[0].length,d=h,c.length>=s))break;v.lastIndex===r.index&&v.lastIndex++}return d===n.length?!u&&v.test("")||c.push(""):c.push(n.slice(d)),c.length>s?c.slice(0,s):c}:"0".split(void 0,0).length?function(t,i){return void 0===t&&0===i?[]:e.call(this,t,i)}:e,[function(e,i){var o=a(this),s=void 0==e?void 0:e[t];return void 0!==s?s.call(e,o,i):n.call(String(o),e,i)},function(t,o){var a=i(n,t,this,o,n!==e);if(a.done)return a.value;var l=s(t),f=String(this),m=r(l,RegExp),g=l.unicode,b=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(d?"g":"y"),k=new m(d?"^(?:"+l.source+")":l,b),S=void 0===o?p:o>>>0;if(0===S)return[];if(0===f.length)return null===c(k,f)?[f]:[];var y=0,O=0,w=[];while(O<f.length){k.lastIndex=d?0:O;var x,E=c(k,d?f.slice(O):f);if(null===E||(x=v(u(k.lastIndex+(d?O:0)),f.length))===y)O=h(f,O,g);else{if(w.push(f.slice(y,O)),w.length===S)return w;for(var M=1;M<=E.length-1;M++)if(w.push(E[M]),w.length===S)return w;O=y=x}}return w.push(f.slice(y)),w}]}),d)},"385c":function(t,e,i){"use strict";(function(t){i("b0c0"),i("159b"),i("d3b7"),i("3ca3"),i("ddb0"),i("4de4"),i("ac1f"),i("466d"),i("1276"),i("a15b");var n=i("a211"),o=i("ac0d"),s=i("e8ec"),a=i("5de6"),r=i("101f");t.ePub=n["a"],e["a"]={name:"EbookReader",mixins:[o["a"]],computed:{},methods:{onMouseEnter:function(t){this.mouseState=1,this.mouseStateTime=t.timeStamp,t.preventDefault(),t.stopPropagation()},onMouseMove:function(t){if(1===this.mouseState)this.mouseState=2;else if(2===this.mouseState){var e=0;this.firstOffsetY?(e=t.clientY-this.firstOffsetY,this.setOffsetY(e)):this.firstOffsetY=t.clientY}t.preventDefault(),t.stopPropagation()},onMouseEnd:function(t){2===this.mouseState?(this.setOffsetY(0),this.firstOffsetY=null,this.mouseState=3):this.mouseState=4;var e=t.timeStamp-this.mouseStateTime;e<200&&(this.mouseState=4),t.preventDefault(),t.stopPropagation()},move:function(t){var e=0;this.firstOffsetY?(e=t.changedTouches[0].clientY-this.firstOffsetY,this.setOffsetY(e)):this.firstOffsetY=t.changedTouches[0].clientY,t.preventDefault(),t.stopPropagation()},moveEnd:function(){this.setOffsetY(0),this.firstOffsetY=0},onMaskClick:function(t){if(!this.mouseState||2!==this.mouseState&&3!==this.mouseState){var e=t.clientX,i=window.innerWidth;e>0&&e<.3*i?this.prevPage():e>.7*i&&e<i?this.nextPage():this.showTitleAndMenu()}},prevPage:function(){var t=this;this.rendition&&(this.rendition.prev().then((function(){t.refreshLocation()})),this.hideTitleAndMenu())},nextPage:function(){var t=this;this.rendition&&(this.rendition.next().then((function(){t.refreshLocation()})),this.hideTitleAndMenu())},showTitleAndMenu:function(){this.menuVisible&&(this.setSettingVisible(-1),this.setFontFamilyVisible(!1)),this.setMenuVisible(!this.menuVisible)},intiFontSize:function(){var t=Object(s["e"])(this.fileName);t?(this.setDefaultFontSize(t),this.currentBook.rendition.themes.fontSize(t+"px")):Object(s["o"])(this.fileName,this.defaultFontSize)},initFontFamily:function(){var t=Object(s["d"])(this.fileName);t?(this.setDefaultFontFamily(t),this.currentBook.rendition.themes.font(t)):Object(s["n"])(this.fileName,this.defaultFontFamily)},initTheme:function(){var t=this,e=Object(s["j"])(this.fileName);e||(e=this.themeList[0].name,Object(s["t"])(this.fileName,e)),this.setDefaultTheme(e),this.themeList.forEach((function(e){t.rendition.themes.register(e.name,e.style)})),this.rendition.themes.select(this.defaultTheme)},initRendition:function(){var t=this;this.rendition=this.book.renderTo("read",{width:innerWidth,height:innerHeight,method:"default"});var e=Object(s["h"])(this.fileName);this.display(e,(function(){t.initTheme(),t.initFontFamily(),t.intiFontSize(),t.initGlobalCss()})),this.rendition.hooks.content.register((function(t){Promise.all([t.addStylesheet("".concat("http://47.99.166.157/book/res","/fonts/cabin.css")),t.addStylesheet("".concat("http://47.99.166.157/book/res","/fonts/tangerine.css")),t.addStylesheet("".concat("http://47.99.166.157/book/res","/fonts/montserrat.css")),t.addStylesheet("".concat("http://47.99.166.157/book/res","/fonts/daysOne.css"))]).then((function(){}))}))},initGesture:function(){var t=this;this.rendition.on("touchstart",(function(e){t.clientX=e.changedTouches[0].clientX,t.timeStamp=e.timeStamp})),this.rendition.on("touchend",(function(e){t.move=e.changedTouches[0].clientX-t.clientX,t.timeStampMove=e.timeStamp-t.timeStamp,t.move>40&&t.timeStampMove>400?t.prevPage():t.move<-40&&t.timeStampMove>400?t.nextPage():t.showTitleAndMenu()}))},initParseBook:function(){var t=this;this.book.loaded.cover.then((function(e){t.book.archive.createUrl(e).then((function(e){t.setCover(e)}))})),this.book.loaded.metadata.then((function(e){t.setMetadata(e)})),this.book.loaded.navigation.then((function(e){var i=Object(a["d"])(e.toc);function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.parent?n(i.filter((function(e){return e.id===t.parent}))[0],++e):e}i.forEach((function(t){t.level=n(t)})),t.setNavigation(i)}))},initEpub:function(t){var e=this;this.book=new n["a"](t),this.setCurrentBook(this.book),this.initRendition(),this.initParseBook(),this.book.ready.then((function(){return e.book.locations.generate(window.innerHeight/375*750*(Object(s["e"])(e.fileName)/16))})).then((function(t){e.navigation.forEach((function(t){t.pagelist=[]})),t.forEach((function(t){var i=t.match(/\[(.*)\]!/)[1];e.navigation.forEach((function(e){if(e.href){var n=e.href.match(/^(.*)\.html$/);n&&n[1]===i&&e.pagelist.push(t)}}));var n=1;e.navigation.forEach((function(t,e){t.page=0===e?1:n,n+=t.pagelist.length+1}))})),e.setPagelist(t),e.setBookAvailable(!0),e.refreshLocation()}))}},mounted:function(){var t=this,e=this.$route.params.fileName.split("|"),i=e[1];Object(r["b"])(i,(function(i,n){!i&&n?t.setFileName(e.join("/")).then((function(){t.initEpub(n)})):t.setFileName(e.join("/")).then((function(){var e="http://47.99.166.157/epub/"+t.fileName+".epub";t.initEpub(e)}))}))}}}).call(this,i("c8ba"))},"466d":function(t,e,i){"use strict";var n=i("d784"),o=i("825a"),s=i("50c4"),a=i("1d80"),r=i("8aa5"),h=i("14c3");n("match",1,(function(t,e,i){return[function(e){var i=a(this),n=void 0==e?void 0:e[t];return void 0!==n?n.call(e,i):new RegExp(e)[t](String(i))},function(t){var n=i(e,t,this);if(n.done)return n.value;var a=o(t),u=String(this);if(!a.global)return h(a,u);var c=a.unicode;a.lastIndex=0;var l,f=[],d=0;while(null!==(l=h(a,u))){var m=String(l[0]);f[d]=m,""===m&&(a.lastIndex=r(u,s(a.lastIndex),c)),d++}return 0===d?null:f}]}))},"4fa7":function(t,e,i){},5158:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ebook-reader"},[i("div",{attrs:{id:"read"}}),i("div",{staticClass:"ebook-reader-mask",on:{click:t.onMaskClick,touchmove:t.move,touchend:t.moveEnd,mousedown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:t.onMouseEnter(e)},mousemove:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:t.onMouseMove(e)},mouseup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:t.onMouseEnd(e)}}})])},o=[],s=i("385c"),a=s["a"],r=(i("5a67"),i("2877")),h=Object(r["a"])(a,n,o,!1,null,"271680dc",null);e["default"]=h.exports},"5a67":function(t,e,i){"use strict";i("4fa7")},a15b:function(t,e,i){"use strict";var n=i("23e7"),o=i("44ad"),s=i("fc6a"),a=i("a640"),r=[].join,h=o!=Object,u=a("join",",");n({target:"Array",proto:!0,forced:h||!u},{join:function(t){return r.call(s(this),void 0===t?",":t)}})}}]);
//# sourceMappingURL=chunk-26ed412a.d6399d3d.js.map