{"version":3,"sources":["webpack:///./src/views/store/StoreDetail.vue?f860","webpack:///./src/components/detail/DetaiTitle.vue?7459","webpack:///src/components/detail/DetaiTitle.vue","webpack:///./src/components/detail/DetaiTitle.vue?cd0e","webpack:///./src/components/detail/DetaiTitle.vue","webpack:///./node_modules/core-js/modules/es.regexp.to-string.js","webpack:///./node_modules/core-js/modules/es.string.starts-with.js","webpack:///./node_modules/core-js/modules/es.regexp.constructor.js","webpack:///./node_modules/core-js/internals/not-a-regexp.js","webpack:///./src/views/store/StoreDetail.vue?2e1c","webpack:///./src/views/store/StoreDetail.vue?497d","webpack:///./src/views/store/StoreDetail.vue","webpack:///./src/components/common/Scroll.vue?9f0d","webpack:///src/components/common/Scroll.vue","webpack:///./src/components/common/Scroll.vue?b082","webpack:///./src/components/common/Scroll.vue","webpack:///src/views/store/StoreDetail.vue","webpack:///./src/components/common/Scroll.vue?6f32","webpack:///./node_modules/core-js/internals/correct-is-regexp-logic.js","webpack:///./src/components/detail/BookInfo.vue?4839","webpack:///./src/components/detail/BookInfo.vue?6ddf","webpack:///src/components/detail/BookInfo.vue","webpack:///./src/components/detail/BookInfo.vue?08d9","webpack:///./src/components/detail/BookInfo.vue","webpack:///./src/components/detail/DetaiTitle.vue?42a4"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","class","ifHideShadow","on","back","showBookShelf","_v","_s","title","_e","staticRenderFns","props","String","showShelf","type","Boolean","default","data","methods","$router","push","showShadow","hideShadow","$emit","component","redefine","anObject","fails","flags","TO_STRING","RegExpPrototype","RegExp","prototype","nativeToString","NOT_GENERIC","call","source","INCORRECT_NAME","name","R","p","rf","f","undefined","unsafe","$","getOwnPropertyDescriptor","toLength","notARegExp","requireObjectCoercible","correctIsRegExpLogic","IS_PURE","$startsWith","startsWith","min","Math","CORRECT_IS_REGEXP_LOGIC","MDN_POLYFILL_BUG","descriptor","writable","target","proto","forced","searchString","that","index","arguments","length","search","slice","DESCRIPTORS","global","isForced","inheritIfRequired","defineProperty","getOwnPropertyNames","isRegExp","getFlags","stickyHelpers","enforceInternalState","enforce","setSpecies","wellKnownSymbol","MATCH","NativeRegExp","re1","re2","CORRECT_NEW","UNSUPPORTED_Y","FORCED","RegExpWrapper","pattern","sticky","thisIsRegExp","patternIsRegExp","flagsAreUndefined","constructor","indexOf","replace","result","state","proxy","key","configurable","get","set","it","keys","module","exports","TypeError","ref","attrs","onScroll","cover","author","desc","$t","publisher","categoryText","lang","isbn","navigation","_l","item","$event","read","deep","style","itemStyle","label","displayed","directives","rawName","value","expression","stopPropagation","preventDefault","readBook","trialListening","addOrRemoveShelf","inBookShelf","toastText","ifNoScroll","handleScroll","_t","top","Number","bottom","offsetY","scrollTo","$refs","scrollWrapper","x","y","refresh","height","addEventListener","mounted","ePub","mixins","components","DetailTitle","Scroll","BookInfo","Toast","computed","description","substring","flatNavigation","Array","concat","apply","doFlatNavigation","toc","metadata","language","identifier","creator","bookItem","shelfList","book","trialRead","audio","randomLocation","trialText","opf","showToast","text","toast","show","path","marginLeft","content","forEach","arr","subitems","downloadBook","parseBook","loaded","then","candisplay","init","fileName","$route","query","category","response","status","error_code","rootFile","go","display","preview","rendition","renderTo","width","window","innerWidth","innerHeight","method","location","METHOD_NAME","regexp","error1","error2"],"mappings":"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","file":"js/chunk-263074c3.2d0e8455.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StoreDetail.vue?vue&type=style&index=0&id=70c84f01&lang=scss&rel=stylesheet%2Fscss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"detail-title-wrapper\",class:{ 'hide-shadow': _vm.ifHideShadow }},[_c('div',{staticClass:\"title-left-wrapper\",on:{\"click\":_vm.back}},[_c('span',{staticClass:\"icon-back\"})]),_c('div',{staticClass:\"title-right-wrapper\"},[(_vm.showShelf)?_c('span',{staticClass:\"icon-shelf icon\",on:{\"click\":_vm.showBookShelf}}):_c('span',{staticClass:\"icon-share\"})]),(_vm.title)?_c('div',{staticClass:\"title-text\"},[_vm._v(\" \"+_vm._s(_vm.title)+\" \")]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"detail-title-wrapper\" :class=\"{ 'hide-shadow': ifHideShadow }\">\n    <div class=\"title-left-wrapper\" @click=\"back\">\n      <span class=\"icon-back\"></span>\n    </div>\n    <div class=\"title-right-wrapper\">\n      <span\n        class=\"icon-shelf icon\"\n        v-if=\"showShelf\"\n        @click=\"showBookShelf\"\n      ></span>\n      <span class=\"icon-share\" v-else></span>\n    </div>\n    <div class=\"title-text\" v-if=\"title\">\n      {{ title }}\n    </div>\n  </div>\n</template>\n\n<script type=\"text/ecmascript-6\">\nexport default {\n  props: {\n    title: String,\n    showShelf: {\n      type: Boolean,\n      default: true\n    }\n  },\n  data() {\n    return {\n      ifHideShadow: true\n    }\n  },\n  methods: {\n    showBookShelf() {\n      this.$router.push('/store/shelf')\n    },\n    showShadow() {\n      this.ifHideShadow = false\n    },\n    hideShadow() {\n      this.ifHideShadow = true\n    },\n    back() {\n      this.$emit('back')\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" rel=\"stylesheet/scss\" scoped>\n@import '../../assets/styles/global';\n.detail-title-wrapper {\n  position: relative;\n  display: flex;\n  width: 100%;\n  height: px2rem(42);\n  box-shadow: 0 px2rem(2) px2rem(2) 0 rgba(0, 0, 0, 0.1);\n  font-size: px2rem(20);\n  color: #666;\n  &.hide-shadow {\n    box-shadow: none;\n  }\n  .title-left-wrapper {\n    position: relative;\n    z-index: 200;\n    flex: 1;\n    margin-left: px2rem(15);\n    @include left;\n  }\n  .title-right-wrapper {\n    position: relative;\n    z-index: 200;\n    flex: 1;\n    margin-right: px2rem(15);\n    @include right;\n  }\n  .title-text {\n    position: absolute;\n    top: 0;\n    left: 0;\n    z-index: 100;\n    width: 100%;\n    height: px2rem(42);\n    font-size: px2rem(16);\n    color: #333;\n    @include center;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetaiTitle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetaiTitle.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DetaiTitle.vue?vue&type=template&id=20ab58c1&scoped=true&\"\nimport script from \"./DetaiTitle.vue?vue&type=script&lang=js&\"\nexport * from \"./DetaiTitle.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DetaiTitle.vue?vue&type=style&index=0&id=20ab58c1&lang=scss&rel=stylesheet%2Fscss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"20ab58c1\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar redefine = require('../internals/redefine');\nvar anObject = require('../internals/an-object');\nvar fails = require('../internals/fails');\nvar flags = require('../internals/regexp-flags');\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar nativeToString = RegExpPrototype[TO_STRING];\n\nvar NOT_GENERIC = fails(function () { return nativeToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = nativeToString.name != TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  redefine(RegExp.prototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var p = String(R.source);\n    var rf = R.flags;\n    var f = String(rf === undefined && R instanceof RegExp && !('flags' in RegExpPrototype) ? flags.call(R) : rf);\n    return '/' + p + '/' + f;\n  }, { unsafe: true });\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar toLength = require('../internals/to-length');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\nvar IS_PURE = require('../internals/is-pure');\n\n// eslint-disable-next-line es/no-string-prototype-startswith -- safe\nvar $startsWith = ''.startsWith;\nvar min = Math.min;\n\nvar CORRECT_IS_REGEXP_LOGIC = correctIsRegExpLogic('startsWith');\n// https://github.com/zloirock/core-js/pull/702\nvar MDN_POLYFILL_BUG = !IS_PURE && !CORRECT_IS_REGEXP_LOGIC && !!function () {\n  var descriptor = getOwnPropertyDescriptor(String.prototype, 'startsWith');\n  return descriptor && !descriptor.writable;\n}();\n\n// `String.prototype.startsWith` method\n// https://tc39.es/ecma262/#sec-string.prototype.startswith\n$({ target: 'String', proto: true, forced: !MDN_POLYFILL_BUG && !CORRECT_IS_REGEXP_LOGIC }, {\n  startsWith: function startsWith(searchString /* , position = 0 */) {\n    var that = String(requireObjectCoercible(this));\n    notARegExp(searchString);\n    var index = toLength(min(arguments.length > 1 ? arguments[1] : undefined, that.length));\n    var search = String(searchString);\n    return $startsWith\n      ? $startsWith.call(that, search, index)\n      : that.slice(index, index + search.length) === search;\n  }\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar defineProperty = require('../internals/object-define-property').f;\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar isRegExp = require('../internals/is-regexp');\nvar getFlags = require('../internals/regexp-flags');\nvar stickyHelpers = require('../internals/regexp-sticky-helpers');\nvar redefine = require('../internals/redefine');\nvar fails = require('../internals/fails');\nvar enforceInternalState = require('../internals/internal-state').enforce;\nvar setSpecies = require('../internals/set-species');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\nvar NativeRegExp = global.RegExp;\nvar RegExpPrototype = NativeRegExp.prototype;\nvar re1 = /a/g;\nvar re2 = /a/g;\n\n// \"new\" should create a new object, old webkit bug\nvar CORRECT_NEW = new NativeRegExp(re1) !== re1;\n\nvar UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y;\n\nvar FORCED = DESCRIPTORS && isForced('RegExp', (!CORRECT_NEW || UNSUPPORTED_Y || fails(function () {\n  re2[MATCH] = false;\n  // RegExp constructor can alter flags and IsRegExp works correct with @@match\n  return NativeRegExp(re1) != re1 || NativeRegExp(re2) == re2 || NativeRegExp(re1, 'i') != '/a/i';\n})));\n\n// `RegExp` constructor\n// https://tc39.es/ecma262/#sec-regexp-constructor\nif (FORCED) {\n  var RegExpWrapper = function RegExp(pattern, flags) {\n    var thisIsRegExp = this instanceof RegExpWrapper;\n    var patternIsRegExp = isRegExp(pattern);\n    var flagsAreUndefined = flags === undefined;\n    var sticky;\n\n    if (!thisIsRegExp && patternIsRegExp && pattern.constructor === RegExpWrapper && flagsAreUndefined) {\n      return pattern;\n    }\n\n    if (CORRECT_NEW) {\n      if (patternIsRegExp && !flagsAreUndefined) pattern = pattern.source;\n    } else if (pattern instanceof RegExpWrapper) {\n      if (flagsAreUndefined) flags = getFlags.call(pattern);\n      pattern = pattern.source;\n    }\n\n    if (UNSUPPORTED_Y) {\n      sticky = !!flags && flags.indexOf('y') > -1;\n      if (sticky) flags = flags.replace(/y/g, '');\n    }\n\n    var result = inheritIfRequired(\n      CORRECT_NEW ? new NativeRegExp(pattern, flags) : NativeRegExp(pattern, flags),\n      thisIsRegExp ? this : RegExpPrototype,\n      RegExpWrapper\n    );\n\n    if (UNSUPPORTED_Y && sticky) {\n      var state = enforceInternalState(result);\n      state.sticky = true;\n    }\n\n    return result;\n  };\n  var proxy = function (key) {\n    key in RegExpWrapper || defineProperty(RegExpWrapper, key, {\n      configurable: true,\n      get: function () { return NativeRegExp[key]; },\n      set: function (it) { NativeRegExp[key] = it; }\n    });\n  };\n  var keys = getOwnPropertyNames(NativeRegExp);\n  var index = 0;\n  while (keys.length > index) proxy(keys[index++]);\n  RegExpPrototype.constructor = RegExpWrapper;\n  RegExpWrapper.prototype = RegExpPrototype;\n  redefine(global, 'RegExp', RegExpWrapper);\n}\n\n// https://tc39.es/ecma262/#sec-get-regexp-@@species\nsetSpecies('RegExp');\n","var isRegExp = require('../internals/is-regexp');\n\nmodule.exports = function (it) {\n  if (isRegExp(it)) {\n    throw TypeError(\"The method doesn't accept regular expressions\");\n  } return it;\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"book-detail\"},[_c('detail-title',{ref:\"title\",attrs:{\"showShelf\":true},on:{\"back\":_vm.back}}),_c('scroll',{ref:\"scroll\",staticClass:\"content-wrapper\",attrs:{\"top\":42,\"bottom\":52},on:{\"onScroll\":_vm.onScroll}},[_c('book-info',{attrs:{\"cover\":_vm.cover,\"title\":_vm.title,\"author\":_vm.author,\"desc\":_vm.desc}}),_c('div',{staticClass:\"book-detail-content-wrapper\"},[_c('div',{staticClass:\"book-detail-content-title\"},[_vm._v(\" \"+_vm._s(_vm.$t('detail.copyright'))+\" \")]),_c('div',{staticClass:\"book-detail-content-list-wrapper\"},[_c('div',{staticClass:\"book-detail-content-row\"},[_c('div',{staticClass:\"book-detail-content-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('detail.publisher'))+\" \")]),_c('div',{staticClass:\"book-detail-content-text\"},[_vm._v(_vm._s(_vm.publisher))])]),_c('div',{staticClass:\"book-detail-content-row\"},[_c('div',{staticClass:\"book-detail-content-label\"},[_vm._v(\" \"+_vm._s(_vm.$t('detail.category'))+\" \")]),_c('div',{staticClass:\"book-detail-content-text\"},[_vm._v(_vm._s(_vm.categoryText))])]),_c('div',{staticClass:\"book-detail-content-row\"},[_c('div',{staticClass:\"book-detail-content-label\"},[_vm._v(_vm._s(_vm.$t('detail.lang')))]),_c('div',{staticClass:\"book-detail-content-text\"},[_vm._v(_vm._s(_vm.lang))])]),_c('div',{staticClass:\"book-detail-content-row\"},[_c('div',{staticClass:\"book-detail-content-label\"},[_vm._v(_vm._s(_vm.$t('detail.ISBN')))]),_c('div',{staticClass:\"book-detail-content-text\"},[_vm._v(_vm._s(_vm.isbn))])])])]),_c('div',{staticClass:\"book-detail-content-wrapper\"},[_c('div',{staticClass:\"book-detail-content-title\"},[_vm._v(\" \"+_vm._s(_vm.$t('detail.navigation'))+\" \")]),_c('div',{staticClass:\"book-detail-content-list-wrapper\"},[(!this.navigation)?_c('div',{staticClass:\"loading-text-wrapper\"},[_c('span',{staticClass:\"loading-text\"},[_vm._v(_vm._s(_vm.$t('detail.loading')))])]):_vm._e(),_c('div',{staticClass:\"book-detail-content-item-wrapper\"},_vm._l((_vm.flatNavigation),function(item,index){return _c('div',{key:index,staticClass:\"book-detail-content-item\",on:{\"click\":function($event){return _vm.read(item)}}},[(item.label)?_c('div',{staticClass:\"book-detail-content-navigation-text\",class:{ 'is-sub': item.deep > 1 },style:(_vm.itemStyle(item))},[_vm._v(\" \"+_vm._s(item.label)+\" \")]):_vm._e()])}),0)])]),_c('div',{staticClass:\"book-detail-content-wrapper\"},[_c('div',{staticClass:\"book-detail-content-title\"},[_vm._v(_vm._s(_vm.$t('detail.trial')))]),_c('div',{staticClass:\"book-detail-content-list-wrapper\"},[(!this.displayed)?_c('div',{staticClass:\"loading-text-wrapper\"},[_c('span',{staticClass:\"loading-text\"},[_vm._v(_vm._s(_vm.$t('detail.loading')))])]):_vm._e()]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(this.displayed),expression:\"this.displayed\"}],ref:\"preview\",attrs:{\"id\":\"preview\"}})])],1),_c('div',{staticClass:\"bottom-wrapper\"},[_c('div',{staticClass:\"bottom-btn\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.readBook()}}},[_vm._v(\" \"+_vm._s(_vm.$t('detail.read'))+\" \")]),_c('div',{staticClass:\"bottom-btn\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.trialListening()}}},[_vm._v(\" \"+_vm._s(_vm.$t('detail.listen'))+\" \")]),_c('div',{staticClass:\"bottom-btn\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.addOrRemoveShelf()}}},[(_vm.inBookShelf)?_c('span',{staticClass:\"icon-check\"}):_vm._e(),_vm._v(\" \"+_vm._s(_vm.inBookShelf ? _vm.$t('detail.isAddedToShelf') : _vm.$t('detail.addOrRemoveShelf'))+\" \")])]),_c('toast',{ref:\"toast\",attrs:{\"text\":_vm.toastText}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StoreDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StoreDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StoreDetail.vue?vue&type=template&id=70c84f01&scoped=true&\"\nimport script from \"./StoreDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./StoreDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./StoreDetail.vue?vue&type=style&index=0&id=70c84f01&lang=scss&rel=stylesheet%2Fscss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"70c84f01\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"scrollWrapper\",staticClass:\"scroll-wrapper\",class:{ 'no-scroll': _vm.ifNoScroll },on:{\"&scroll\":function($event){return _vm.handleScroll($event)}}},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--  -->\n<template>\n  <div\n    class=\"scroll-wrapper\"\n    ref=\"scrollWrapper\"\n    :class=\"{ 'no-scroll': ifNoScroll }\"\n    @scroll.passive=\"handleScroll\"\n  >\n    <slot></slot>\n  </div>\n</template>\n\n<script>\nimport { realPx } from '../../utils/utils'\nexport default {\n  props: {\n    top: {\n      type: Number,\n      default: 0,\n    },\n    bottom: {\n      type: Number,\n      default: 0,\n    },\n    ifNoScroll: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  methods: {\n    handleScroll(e) {\n      const offsetY =\n        e.target.scrollTop || window.pageYOffset || document.body.scrollTop\n      this.$emit('onScroll', offsetY)\n    },\n    scrollTo(x, y) {\n      this.$refs.scrollWrapper.scrollTo(x, y)\n    },\n    refresh() {\n      if (this.$refs.scrollWrapper) {\n        this.$refs.scrollWrapper.style.height =\n          window.innerHeight - realPx(this.top) - realPx(this.bottom) + 'px'\n        this.$refs.scrollWrapper.addEventListener('scroll', this.handleScroll)\n      }\n    },\n  },\n  data() {\n    return {}\n  },\n  mounted() {\n    this.refresh()\n  },\n}\n</script>\n<style lang=\"scss\" scoped>\n@import '../../assets/styles/global';\n.scroll-wrapper {\n  position: relative;\n  z-index: 100;\n  width: 100%;\n  overflow-x: hidden;\n  overflow-y: scroll;\n  -webkit-overflow-scrolling: touch;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  &.no-scroll {\n    overflow: hidden;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Scroll.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Scroll.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Scroll.vue?vue&type=template&id=709ce4b1&scoped=true&\"\nimport script from \"./Scroll.vue?vue&type=script&lang=js&\"\nexport * from \"./Scroll.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Scroll.vue?vue&type=style&index=0&id=709ce4b1&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"709ce4b1\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"book-detail\">\n    <detail-title @back=\"back\" :showShelf=\"true\" ref=\"title\"></detail-title>\n    <scroll\n      class=\"content-wrapper\"\n      :top=\"42\"\n      :bottom=\"52\"\n      @onScroll=\"onScroll\"\n      ref=\"scroll\"\n    >\n      <book-info\n        :cover=\"cover\"\n        :title=\"title\"\n        :author=\"author\"\n        :desc=\"desc\"\n      ></book-info>\n      <div class=\"book-detail-content-wrapper\">\n        <div class=\"book-detail-content-title\">\n          {{ $t('detail.copyright') }}\n        </div>\n        <div class=\"book-detail-content-list-wrapper\">\n          <div class=\"book-detail-content-row\">\n            <div class=\"book-detail-content-label\">\n              {{ $t('detail.publisher') }}\n            </div>\n            <div class=\"book-detail-content-text\">{{ publisher }}</div>\n          </div>\n          <div class=\"book-detail-content-row\">\n            <div class=\"book-detail-content-label\">\n              {{ $t('detail.category') }}\n            </div>\n            <div class=\"book-detail-content-text\">{{ categoryText }}</div>\n          </div>\n          <div class=\"book-detail-content-row\">\n            <div class=\"book-detail-content-label\">{{ $t('detail.lang') }}</div>\n            <div class=\"book-detail-content-text\">{{ lang }}</div>\n          </div>\n          <div class=\"book-detail-content-row\">\n            <div class=\"book-detail-content-label\">{{ $t('detail.ISBN') }}</div>\n            <div class=\"book-detail-content-text\">{{ isbn }}</div>\n          </div>\n        </div>\n      </div>\n      <div class=\"book-detail-content-wrapper\">\n        <div class=\"book-detail-content-title\">\n          {{ $t('detail.navigation') }}\n        </div>\n        <div class=\"book-detail-content-list-wrapper\">\n          <div class=\"loading-text-wrapper\" v-if=\"!this.navigation\">\n            <span class=\"loading-text\">{{ $t('detail.loading') }}</span>\n          </div>\n          <div class=\"book-detail-content-item-wrapper\">\n            <div\n              class=\"book-detail-content-item\"\n              v-for=\"(item, index) in flatNavigation\"\n              :key=\"index\"\n              @click=\"read(item)\"\n            >\n              <div\n                class=\"book-detail-content-navigation-text\"\n                :class=\"{ 'is-sub': item.deep > 1 }\"\n                :style=\"itemStyle(item)\"\n                v-if=\"item.label\"\n              >\n                {{ item.label }}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"book-detail-content-wrapper\">\n        <div class=\"book-detail-content-title\">{{ $t('detail.trial') }}</div>\n        <div class=\"book-detail-content-list-wrapper\">\n          <div class=\"loading-text-wrapper\" v-if=\"!this.displayed\">\n            <span class=\"loading-text\">{{ $t('detail.loading') }}</span>\n          </div>\n        </div>\n        <div id=\"preview\" v-show=\"this.displayed\" ref=\"preview\"></div>\n      </div>\n    </scroll>\n    <div class=\"bottom-wrapper\">\n      <div class=\"bottom-btn\" @click.stop.prevent=\"readBook()\">\n        {{ $t('detail.read') }}\n      </div>\n      <div class=\"bottom-btn\" @click.stop.prevent=\"trialListening()\">\n        {{ $t('detail.listen') }}\n      </div>\n      <div class=\"bottom-btn\" @click.stop.prevent=\"addOrRemoveShelf()\">\n        <span class=\"icon-check\" v-if=\"inBookShelf\"></span>\n        {{\n          inBookShelf\n            ? $t('detail.isAddedToShelf')\n            : $t('detail.addOrRemoveShelf')\n        }}\n      </div>\n    </div>\n    <toast :text=\"toastText\" ref=\"toast\"></toast>\n  </div>\n</template>\n\n<script type=\"text/ecmascript-6\">\nimport DetailTitle from '../../components/detail/DetaiTitle'\nimport BookInfo from '../../components/detail/BookInfo'\nimport Scroll from '../../components/common/Scroll'\nimport Toast from '../../components/common/Toast'\nimport { detail } from '../../api/store'\nimport { px2rem, realPx } from '../../utils/utils'\nimport Epub from 'epubjs'\nimport {storeShelfMixin} from '../../utils/mixin'\nimport { getBookShelf, saveBookShelf } from '../../utils/localStorage'\nimport { addToShelf, removeFromBookShelf } from '../../utils/store'\nglobal.ePub = Epub\n\nexport default {\n  mixins:[storeShelfMixin],\n  components: {\n    DetailTitle,\n    Scroll,\n    BookInfo,\n    Toast\n  },\n  computed: {\n    desc() {\n      if (this.description) {\n        return this.description.substring(0, 100)\n      } else {\n        return ''\n      }\n    },\n    flatNavigation() {\n      if (this.navigation) {\n        return Array.prototype.concat.apply([], Array.prototype.concat.apply([], this.doFlatNavigation(this.navigation.toc)))\n      } else {\n        return []\n      }\n    },\n    lang() {\n      return this.metadata ? this.metadata.language : '-'\n    },\n    isbn() {\n      return this.metadata ? this.metadata.identifier : '-'\n    },\n    publisher() {\n      return this.metadata ? this.metadata.publisher : '-'\n    },\n    title() {\n      return this.metadata ? this.metadata.title : ''\n    },\n    author() {\n      return this.metadata ? this.metadata.creator : ''\n    },\n    inBookShelf() {\n      if (this.bookItem && this.shelfList) {\n        const flatShelf = (function flatten(arr) {\n          return [].concat(...arr.map(v => v.itemList ? [v, ...flatten(v.itemList)] : v))\n        })(this.shelfList).filter(item => item.type === 1)\n        const book = flatShelf.filter(item => item.fileName === this.bookItem.fileName)\n        return book && book.length > 0\n      } else {\n        return false\n      }\n    }\n  },\n  data() {\n    return {\n      bookItem: null,\n      book: null,\n      metadata: null,\n      trialRead: null,\n      cover: null,\n      navigation: null,\n      displayed: false,\n      audio: null,\n      randomLocation: null,\n      description: null,\n      toastText: '',\n      trialText: null,\n      categoryText: null,\n      opf: null\n    }\n  },\n  methods: {\n    addOrRemoveShelf() {\n      // 如果电子书存在于书架，则从书架中移除电子书\n        if (this.inBookShelf) {\n          this.setShelfList(removeFromBookShelf(this.bookItem))\n            .then(() => {\n              // 将书架数据保存到LocalStorage\n              saveBookShelf(this.shelfList)\n            })\n        } else {\n          // 如果电子书不存在于书架，则添加电子书到书架\n          addToShelf(this.bookItem)\n          this.setShelfList(getBookShelf())\n        }\n    },\n    showToast(text) {\n      this.toastText = text\n      this.$refs.toast.show()\n    },\n    readBook() {\n      this.$router.push({\n        path: `/ebook/${this.categoryText}|${this.fileName}`\n      })\n    },\n    trialListening() {\n    },\n    read(item) {\n      this.$router.push({\n        path: `/ebook/${this.categoryText}|${this.fileName}`\n      })\n    },\n    itemStyle(item) {\n      return {\n        marginLeft: (item.deep - 1) * px2rem(20) + 'rem'\n      }\n    },\n    doFlatNavigation(content, deep = 1) {\n      const arr = []\n      content.forEach(item => {\n        item.deep = deep\n        arr.push(item)\n        if (item.subitems && item.subitems.length > 0) {\n          arr.push(this.doFlatNavigation(item.subitems, deep + 1))\n        }\n      })\n      return arr\n    },\n    downloadBook() {\n      const opf = `${process.env.VUE_APP_EPUB_URL}/${this.bookItem.categoryText}/${this.bookItem.fileName}/OEBPS/package.opf`\n      this.parseBook(opf)\n    },\n    parseBook(url) {\n      this.book = new Epub(url)\n      this.book.loaded.metadata.then(metadata => {\n        this.metadata = metadata\n      })\n      this.book.loaded.navigation.then(nav => {\n        this.navigation = nav\n        if (this.navigation.toc && this.navigation.toc.length > 1) {\n          const candisplay = this.display(this.navigation.toc[1].href)\n          if (candisplay) {\n            candisplay.then(section => {\n              if (this.$refs.scroll) {\n                this.$refs.scroll.refresh()\n              }\n              this.displayed = true\n              const reg = new RegExp('<.+?>', 'g')\n              const text = section.output.replace(reg, '').replace(/\\s\\s/g, '')\n              this.description = text\n            })\n          }\n        }\n      })\n    },\n    init() {\n      this.fileName = this.$route.query.fileName\n      this.categoryText = this.$route.query.category\n      if (this.fileName) {\n        detail({\n          fileName: this.fileName\n        }).then(response => {\n          if (response.status === 200 && response.data.error_code === 0 && response.data.data) {\n            const data = response.data.data\n            this.bookItem = data\n            this.cover = this.bookItem.cover\n            let rootFile = data.rootFile\n            if (rootFile.startsWith('/')) {\n              rootFile = rootFile.substring(1, rootFile.length)\n            }\n            this.opf = `${process.env.VUE_APP_EPUB_OPF_URL}/${this.fileName}/${rootFile}`\n            this.parseBook(this.opf)\n          } else {\n            this.showToast(response.data.msg)\n          }\n        })\n      }\n    },\n    back() {\n      this.$router.go(-1)\n    },\n    display(location) {\n      if (this.$refs.preview) {\n        if (!this.rendition) {\n          this.rendition = this.book.renderTo('preview', {\n            width: window.innerWidth > 640 ? 640 : window.innerWidth,\n            height: window.innerHeight,\n            method: 'default'\n          })\n        }\n        if (!location) {\n          return this.rendition.display()\n        } else {\n          return this.rendition.display(location)\n        }\n      }\n    },\n    onScroll(offsetY) {\n      if (offsetY > realPx(42)) {\n        this.$refs.title.showShadow()\n      } else {\n        this.$refs.title.hideShadow()\n      }\n    }\n  },\n  mounted() {\n    this.init()\n    if (!this.shelfList || this.shelfList.length === 0) {\n        this.getShelfList()\n      }\n  }\n}\n</script>\n\n<style lang=\"scss\" rel=\"stylesheet/scss\" scoped>\n@import '../../assets/styles/global';\n\n.book-detail {\n  width: 100%;\n  background: white;\n  .content-wrapper {\n    width: 100%;\n    .book-detail-content-wrapper {\n      width: 100%;\n      border-bottom: px2rem(1) solid #eee;\n      box-sizing: border-box;\n      .book-detail-content-title {\n        font-size: px2rem(20);\n        font-weight: bold;\n        padding: px2rem(20) px2rem(15) px2rem(10) px2rem(15);\n        box-sizing: border-box;\n      }\n      .book-detail-content-list-wrapper {\n        padding: px2rem(10) px2rem(15);\n        box-sizing: border-box;\n        .loading-text-wrapper {\n          width: 100%;\n          .loading-text {\n            font-size: px2rem(14);\n            color: #666;\n          }\n        }\n        .book-detail-content-row {\n          display: flex;\n          box-sizing: border-box;\n          margin-bottom: px2rem(10);\n          .book-detail-content-label {\n            flex: 0 0 px2rem(70);\n            font-size: px2rem(14);\n            color: #666;\n          }\n          .book-detail-content-text {\n            flex: 1;\n            font-size: px2rem(14);\n            color: #333;\n          }\n        }\n        #preview {\n        }\n        .book-detail-content-item-wrapper {\n          .book-detail-content-item {\n            padding: px2rem(15) 0;\n            font-size: px2rem(14);\n            line-height: px2rem(16);\n            color: #666;\n            border-bottom: px2rem(1) solid #eee;\n            &:last-child {\n              border-bottom: none;\n            }\n            .book-detail-content-navigation-text {\n              width: 100%;\n              @include ellipsis;\n              &.is-sub {\n                color: #666;\n              }\n            }\n          }\n        }\n      }\n    }\n    .audio-wrapper {\n      width: 100%;\n      padding: px2rem(15);\n      box-sizing: border-box;\n      #audio {\n        width: 100%;\n      }\n    }\n  }\n  .bottom-wrapper {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    z-index: 120;\n    display: flex;\n    width: 100%;\n    height: px2rem(52);\n    box-shadow: 0 px2rem(-2) px2rem(2) rgba(0, 0, 0, 0.1);\n    .bottom-btn {\n      flex: 1;\n      color: $color-blue;\n      font-weight: bold;\n      font-size: px2rem(14);\n      @include center;\n      &:active {\n        color: $color-blue-transparent;\n      }\n      .icon-check {\n        margin-right: px2rem(5);\n      }\n    }\n    &.hide-shadow {\n      box-shadow: none;\n    }\n  }\n}\n</style>\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Scroll.vue?vue&type=style&index=0&id=709ce4b1&lang=scss&scoped=true&\"","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\nmodule.exports = function (METHOD_NAME) {\n  var regexp = /./;\n  try {\n    '/./'[METHOD_NAME](regexp);\n  } catch (error1) {\n    try {\n      regexp[MATCH] = false;\n      return '/./'[METHOD_NAME](regexp);\n    } catch (error2) { /* empty */ }\n  } return false;\n};\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookInfo.vue?vue&type=style&index=0&id=395bbb7d&lang=scss&rel=stylesheet%2Fscss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cover-title-wrapper\"},[_c('div',{staticClass:\"cover-title-left-wrapper\"},[_c('img',{staticClass:\"cover-img\",attrs:{\"src\":_vm.cover}})]),_c('div',{staticClass:\"cover-title-right-wrapper\"},[_c('div',{staticClass:\"detail-cover-title-wrapper\"},[_c('div',{staticClass:\"cover-title-text\"},[_vm._v(_vm._s(_vm.title))])]),_c('div',{staticClass:\"cover-author-wrapper\"},[_c('div',{staticClass:\"cover-author-text\"},[_vm._v(_vm._s(_vm.author))])]),_c('div',{staticClass:\"detail-cover-description-wrapper\"},[_c('div',{staticClass:\"detail-cover-description-text\"},[_vm._v(_vm._s(_vm.desc))])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"cover-title-wrapper\">\n    <div class=\"cover-title-left-wrapper\">\n      <img class=\"cover-img\" :src=\"cover\" />\n    </div>\n    <div class=\"cover-title-right-wrapper\">\n      <div class=\"detail-cover-title-wrapper\">\n        <div class=\"cover-title-text\">{{ title }}</div>\n      </div>\n      <div class=\"cover-author-wrapper\">\n        <div class=\"cover-author-text\">{{ author }}</div>\n      </div>\n      <div class=\"detail-cover-description-wrapper\">\n        <div class=\"detail-cover-description-text\">{{ desc }}</div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script type=\"text/ecmascript-6\">\nexport default {\n  props: {\n    cover: String,\n    title: String,\n    author: String,\n    desc: String\n  }\n}\n</script>\n\n<style lang=\"scss\" rel=\"stylesheet/scss\" scoped>\n@import '../../assets/styles/global';\n.cover-title-wrapper {\n  display: flex;\n  width: 100%;\n  padding: px2rem(10) 0;\n  border-bottom: px2rem(1) solid #eee;\n  box-sizing: border-box;\n  .cover-title-left-wrapper {\n    flex: 0 0 px2rem(103);\n    padding: px2rem(10) 0 px2rem(10) px2rem(15);\n    box-sizing: border-box;\n    @include top;\n    .cover-img {\n      width: px2rem(103);\n      height: px2rem(146);\n    }\n  }\n  .cover-title-right-wrapper {\n    flex: 1;\n    padding: px2rem(10) px2rem(15);\n    box-sizing: border-box;\n    .detail-cover-title-wrapper {\n      .cover-title-text {\n        font-size: px2rem(24);\n        line-height: px2rem(26);\n        font-weight: bold;\n        color: #333;\n      }\n    }\n    .cover-author-wrapper {\n      margin-top: px2rem(10);\n      .cover-author-text {\n        font-size: px2rem(14);\n        line-height: px2rem(16);\n        color: $color-blue;\n      }\n    }\n    .detail-cover-description-wrapper {\n      margin-top: px2rem(10);\n      .detail-cover-description-text {\n        font-size: px2rem(14);\n        line-height: px2rem(16);\n        color: #666;\n        word-break: keep-all;\n        white-space: normal;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        overflow-wrap: break-word;\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BookInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BookInfo.vue?vue&type=template&id=395bbb7d&scoped=true&\"\nimport script from \"./BookInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./BookInfo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BookInfo.vue?vue&type=style&index=0&id=395bbb7d&lang=scss&rel=stylesheet%2Fscss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"395bbb7d\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetaiTitle.vue?vue&type=style&index=0&id=20ab58c1&lang=scss&rel=stylesheet%2Fscss&scoped=true&\""],"sourceRoot":""}