(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-950e51d6"],{"00cc":function(t,e,a){},"0da4":function(t,e,a){},"1a37":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"store-home"},[a("SearchBar"),a("Scroll",{ref:"scroll",attrs:{top:t.scrollTop},on:{onScroll:t.onScroll}},[a("div",{staticClass:"banner-wrapper"},[a("div",{staticClass:"banner-img",style:{backgroundImage:"url('"+t.banner+"')"}})]),a("guess-you-like",{attrs:{data:t.guessYouLike}}),a("recommend",{staticClass:"recommend",attrs:{data:t.recommend}}),a("featured",{staticClass:"featured",attrs:{data:t.featured,titleText:t.$t("home.featured"),btnText:t.$t("home.seeAll")}}),t._l(t.categoryList,(function(t,e){return a("div",{key:e,staticClass:"category-list-wrapper"},[a("category-book",{attrs:{data:t}})],1)})),a("category",{staticClass:"categories",attrs:{data:t.categories}})],2)],1)},i=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"search-bar",class:{"hide-title":!t.searchBarVisible,"hide-shadow":t.shadowVisible}},[a("transition",{attrs:{name:"search-move"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.searchBarVisible,expression:"searchBarVisible"}],staticClass:"search-bar-title-wrapper"},[a("div",{staticClass:"title-text-wrapper"},[a("span",{staticClass:"title-text title"},[t._v(t._s(t.$t("home.title")))])]),a("div",{staticClass:"title-icon-shake-wrapper"},[a("span",{staticClass:"icon-shake icon",on:{click:t.showFlapCard}})])])]),a("div",{staticClass:"title-icon-back-wrapper",class:{"hide-title":!t.searchBarVisible},on:{click:t.back}},[a("span",{staticClass:"icon-back icon"})]),a("div",{staticClass:"search-bar-input-wrapper",class:{"hide-title":!t.searchBarVisible}},[a("div",{staticClass:"search-bar-blank",class:{"hide-title":!t.searchBarVisible},on:{click:t.hideHotSearch}}),a("div",{staticClass:"search-bar-input"},[a("span",{staticClass:"icon-search icon"}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchText,expression:"searchText"}],staticClass:"input",attrs:{type:"text",placeholder:t.$t("home.hint")},domProps:{value:t.searchText},on:{click:t.showHotSearch,keyup:function(e){return e.type.indexOf("key")||13===e.keyCode?e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:t.searchByKey(e):null},input:function(e){e.target.composing||(t.searchText=e.target.value)}}})])])],1),a("HotSearchList",{directives:[{name:"show",rawName:"v-show",value:t.hotSearchVisible,expression:"hotSearchVisible"}],ref:"hotSearch"}),a("FlapCard",{attrs:{data:t.random}})],1)},o=[],n=a("ac0d"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Scroll",{ref:"scroll",staticClass:"hot-search-wrapper",attrs:{top:52},on:{onScroll:t.onScroll}},[a("hot-search",{attrs:{label:t.$t("home.hotSearch"),btn:t.$t("home.change"),hotSearch:t.searchList.hotSearch}}),a("div",{staticClass:"line"}),a("hot-search",{attrs:{label:t.$t("home.historySearch"),btn:t.$t("home.clear"),hotSearch:t.searchList.historySearch}})],1)},l=[],h=a("6701"),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hot-t-search-wrapper"},[a("div",{staticClass:"hot-title-wrapper"},[a("span",{staticClass:"label"},[t._v(t._s(t.label))]),a("span",{staticClass:"btn"},[t._v(t._s(t.btn))])]),a("div",{staticClass:"hot-body-wrapper"},t._l(t.hotSearch,(function(e,s){return a("div",{key:s,staticClass:"hot-body-item"},[a("div",{staticClass:"body-icon"},[1===e.type?a("span",{staticClass:"icon-book icon"}):t._e(),2===e.type?a("span",{staticClass:"icon-search icon"}):t._e()]),a("div",{staticClass:"body-text"},[a("div",{ref:"searchText",refInFor:!0,staticClass:"text"},[t._v(t._s(e.text))]),e.num?a("div",{staticClass:"num"},[t._v(t._s(e.num)+"人搜索")]):t._e()])])})),0)])},d=[],f=(a("159b"),a("fa7d")),p={props:{label:String,btn:String,hotSearch:Array},data:function(){return{}},mounted:function(){this.$refs.searchText.forEach((function(t){t.style.width=window.innerWidth-Object(f["b"])(20)-Object(f["b"])(40)+"px"}))}},m=p,v=(a("7fe6"),a("2877")),b=Object(v["a"])(m,u,d,!1,null,"67d43a9f",null),C=b.exports,y={mixins:[n["b"]],components:{HotSearch:C,Scroll:h["a"]},data:function(){return{searchList:{hotSearch:[{type:1,text:"Self-Reported Population Health",num:"1.8万"},{type:1,text:"Library and Information Sciences",num:"1.1万"},{type:1,text:"Global Business Strategy",num:"1.3万"},{type:1,text:"Corporate Data Quality",num:"1.0万"},{type:1,text:"Verrechnungspreise",num:"3.9万"}],historySearch:[{type:2,text:"Computer Science"},{type:1,text:"Building the Infrastructure for Cloud Security"},{type:2,text:"ePub"},{type:2,text:"api"},{type:2,text:"Vue.js"},{type:2,text:"Nginx"},{type:2,text:"Java"},{type:2,text:"hdfs"},{type:2,text:"vuejs"},{type:2,text:"es6"},{type:2,text:"Intel"},{type:1,text:"Pro Git"},{type:2,text:"imooc"},{type:2,text:"Education"},{type:2,text:"Springer"},{type:2,text:"Environment"}]}}},methods:{onScroll:function(t){this.setHotSearchOffsetY(t)},reset:function(){this.$refs.scroll.scrollTo(0,0)}}},w=y,g=(a("d167"),Object(v["a"])(w,c,l,!1,null,"70c8a6cd",null)),x=g.exports,k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:t.flapCardVisible,expression:"flapCardVisible"}],staticClass:"flap-bg"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.runFlapCardAnimation,expression:"runFlapCardAnimation"}],staticClass:"flap-img"},[a("img",{staticClass:"img",attrs:{src:"image.gif",alt:""}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.runBookCardAnimation,expression:"runBookCardAnimation"}],staticClass:"book-card",class:{animation:t.runBookCardAnimation}},[a("div",{staticClass:"book-card-wrapper"},[a("div",{staticClass:"img-wrapper"},[a("img",{staticClass:"img",attrs:{src:t.data?t.data.cover:""}})]),a("div",{staticClass:"content-wrapper"},[a("div",{staticClass:"content-title"},[t._v(t._s(t.data?t.data.title:""))]),a("div",{staticClass:"content-author sub-title-medium"},[t._v(" "+t._s(t.data?t.data.author:"")+" ")]),a("div",{staticClass:"content-category"},[t._v(t._s(t.categoryText()))])]),a("div",{staticClass:"read-btn",on:{click:function(e){return e.stopPropagation(),t.showBookDetail(t.data)}}},[t._v(" "+t._s(t.$t("home.readNow"))+" ")])])]),a("div",{staticClass:"flap-icon-wrapper",on:{click:t.hideFlapCard}},[a("span",{staticClass:"icon-close"})])])},_=[],S={mixins:[n["b"]],props:{data:Object},data:function(){return{runBookCardAnimation:!1,runFlapCardAnimation:!0}},methods:{reset:function(){},hideFlapCard:function(){this.setFlapCardVisible(!1)},categoryText:function(){},showBookDetail:function(){},runAnimation:function(){this.runFlapCardAnimation=!0}},watch:{flapCardVisible:function(t){var e=this;t&&(this.task=setTimeout((function(){e.runBookCardAnimation=!0,e.runFlapCardAnimation=!1}),1e3))}},mounted:function(){}},$=S,B=(a("a5ad"),Object(v["a"])($,k,_,!1,null,"d5409cd6",null)),T=B.exports,V=a("73f5"),O={mixins:[n["b"]],components:{HotSearchList:x,FlapCard:T},data:function(){return{searchText:"",searchBarVisible:!0,shadowVisible:!1,hotSearchVisible:!1,random:{}}},watch:{offsetY:function(t){t>0?(this.hideBar(),this.showShadow()):(this.showBar(),this.hideShadow())},hotSearchOffsetY:function(t){t>0?this.showShadow():this.hideShadow()}},methods:{back:function(){this.$router.go(-1)},searchByKey:function(){this.$router.push({path:"/store/list",query:{keyword:this.searchText}})},showFlapCard:function(){this.setFlapCardVisible(!0)},hideHotSearch:function(){this.hotSearchVisible=!1,this.showBar(),this.offsetY>0?(this.showShadow(),this.hideBar()):(this.showBar(),this.hideShadow())},showHotSearch:function(){var t=this;this.hotSearchVisible=!0,this.hideShadow(),this.hideBar(),this.$nextTick((function(){t.$refs.hotSearch.reset()}))},hideBar:function(){this.searchBarVisible=!1},showBar:function(){this.searchBarVisible=!0},hideShadow:function(){this.shadowVisible=!1},showShadow:function(){this.shadowVisible=!0}},mounted:function(){var t=this;Object(V["c"])().then((function(e){if(e&&200===e.status){var a=e.data,s=Math.floor(Math.random()*a.random.length);t.random=a.random[s]}}))}},j=O,F=(a("4269"),Object(v["a"])(j,r,o,!1,null,"ab4a6914",null)),A=F.exports,L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"guess-you-like"},[a("title-view",{attrs:{label:t.$t("home.guessYouLike"),btn:t.$t("home.change")},on:{onClick:t.change}}),a("div",{staticClass:"guess-you-like-list"},t._l(t.showData,(function(e,s){return a("div",{key:s,staticClass:"guess-you-like-item",on:{click:function(a){return t.showBookDetail(e)}}},[a("div",{staticClass:"img-wrapper"},[a("img",{staticClass:"img",attrs:{src:e.cover}})]),a("div",{staticClass:"content-wrapper"},[a("div",{ref:"title",refInFor:!0,staticClass:"title title-big"},[t._v(t._s(e.title))]),a("div",{ref:"author",refInFor:!0,staticClass:"author sub-title"},[t._v(t._s(e.author))]),a("div",{ref:"result",refInFor:!0,staticClass:"result third-title"},[t._v(" "+t._s(t.resultText(e))+" ")])])])})),0)],1)},E=[],I=(a("ac1f"),a("5319"),a("8c8f")),Y={mixins:[n["b"]],components:{TitleView:I["a"]},props:{data:Array},watch:{data:function(t){this.total=t.length/3}},computed:{width:function(){return window.innerWidth-Object(f["b"])(20)-Object(f["b"])(60)+"px"},showData:function(){return this.data?[this.data[this.index],this.data[this.index+this.total],this.data[this.index+2*this.total]]:[]}},data:function(){return{index:0,total:0}},methods:{change:function(){this.index+1>=this.total?this.index=0:this.index++},resultText:function(t){if(t&&t.type&&t.result)switch(t.type){case 1:return this.$t("home.sameAuthor").replace("$1",t.result);case 2:return this.$t("home.sameReader").replace("$1",t.result);case 3:return this.$t("home.readPercent").replace("$1",t.percent).replace("$2",t.result)}},resize:function(){var t=this;this.$nextTick((function(){t.$refs.title.forEach((function(e){e.style.width=t.width})),t.$refs.author.forEach((function(e){e.style.width=t.width})),t.$refs.result.forEach((function(e){e.style.width=t.width}))}))}}},H=Y,D=(a("432d"),Object(v["a"])(H,L,E,!1,null,"76891820",null)),N=D.exports,K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"recommend"},[a("title-view",{attrs:{label:t.$t("home.recommend"),btn:t.$t("home.seeAll")}}),a("div",{staticClass:"recommend-list"},t._l(t.data,(function(e,s){return a("div",{key:s,staticClass:"recommend-item",on:{click:function(a){return t.showBookDetail(e)}}},[a("div",{staticClass:"img-wrapper"},[a("img",{staticClass:"img",attrs:{src:e.cover}})]),a("div",{staticClass:"content-wrapper"},[a("div",{ref:"title",refInFor:!0,staticClass:"title title-medium"},[t._v(t._s(e.title))]),a("div",{ref:"num",refInFor:!0,staticClass:"num sub-title"},[t._v(" "+t._s(t.$t("home.readers").replace("$1",e.readers))+" ")])])])})),0)],1)},P=[],M={mixins:[n["b"]],components:{TitleView:I["a"]},props:{data:Array}},q=M,G=(a("d33f"),Object(v["a"])(q,K,P,!1,null,"cfce1860",null)),J=G.exports,R=a("cbe5"),W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"category-book"},[a("title-view",{attrs:{label:t.categoryText(t.data.category),btn:t.$t("home.seeAll")},on:{onClick:t.showBookCategory}}),a("div",{staticClass:"category-book-list"},t._l(t.data.list,(function(e,s){return a("div",{key:s,staticClass:"category-book-item",on:{click:function(a){return t.showBookDetail(e)}}},[a("div",{staticClass:"img-wrapper"},[a("img",{staticClass:"img",attrs:{src:e.cover}})]),a("div",{staticClass:"content-wrapper"},[a("div",{ref:"title",refInFor:!0,staticClass:"title title-small"},[t._v(t._s(e.title))]),a("div",{ref:"author",refInFor:!0,staticClass:"num sub-title-tiny"},[t._v(t._s(e.author))])])])})),0)],1)},z=[],Q=a("da6f"),U={mixins:[n["b"]],components:{TitleView:I["a"]},props:{data:Object},methods:{showBookCategory:function(){this.$router.push({path:"/store/list",query:{category:Object(Q["f"])(this.data.category),categoryText:this.categoryText(this.data.category)}})},categoryText:function(t){return Object(Q["d"])(t,this)}}},X=U,Z=(a("9e10"),Object(v["a"])(X,W,z,!1,null,"3851ef32",null)),tt=Z.exports,et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"category"},[a("title-view",{attrs:{label:t.$t("home.category"),btn:t.$t("home.seeAll")},on:{onClick:t.showBookList}}),a("div",{staticClass:"category-list"},t._l(t.data,(function(e,s){return a("div",{key:s,staticClass:"category-item-wrapper",on:{click:function(a){return t.showBookCategory(e)}}},[a("div",{staticClass:"category-item"},[a("div",{staticClass:"content-wrapper"},[a("div",{staticClass:"title title-medium"},[t._v(" "+t._s(t.categoryText(e.category))+" ")]),a("div",{staticClass:"num sub-title-tiny"},[t._v(" "+t._s(e.num+" "+t.$t("home.books"))+" ")])]),a("div",{staticClass:"img-wrapper"},[a("div",{staticClass:"img-group"},[a("img",{staticClass:"img",attrs:{src:e.img1}}),a("img",{staticClass:"img2",attrs:{src:e.img2}})])])])])})),0)],1)},at=[],st={components:{TitleView:I["a"]},props:{data:Array},methods:{showBookCategory:function(t){this.$router.push({path:"/store/list",query:{category:Object(Q["f"])(t.category),categoryText:this.categoryText(t.category)}})},categoryText:function(t){return Object(Q["d"])(t,this)},showBookList:function(){this.$router.push("/store/list")}}},it=st,rt=(a("2a77"),Object(v["a"])(it,et,at,!1,null,"453f9648",null)),ot=rt.exports,nt={mixins:[n["b"]],components:{GuessYouLike:N,Recommend:J,Featured:R["a"],CategoryBook:tt,Category:ot,SearchBar:A,Scroll:h["a"]},data:function(){return{scrollTop:94,random:null,banner:"",guessYouLike:null,recommend:null,featured:null,categoryList:null,categories:null}},methods:{onScroll:function(t){this.setOffsetY(t),this.scrollTop=t>0?52:94,this.$refs.scroll.refresh()}},mounted:function(){var t=this;Object(V["c"])().then((function(e){if(e&&200===e.status){var a=e.data,s=Math.floor(Math.random()*a.random.length);t.random=a.random[s],t.banner=a.banner,t.guessYouLike=a.guessYouLike,t.recommend=a.recommend,t.featured=a.featured,t.categoryList=a.categoryList,t.categories=a.categories}}))}},ct=nt,lt=(a("2887"),Object(v["a"])(ct,s,i,!1,null,"21523e80",null));e["default"]=lt.exports},2021:function(t,e,a){},2887:function(t,e,a){"use strict";a("3656")},"2a77":function(t,e,a){"use strict";a("0da4")},3656:function(t,e,a){},4269:function(t,e,a){"use strict";a("4b7d")},"432d":function(t,e,a){"use strict";a("ef0f")},"4b7d":function(t,e,a){},"5d07":function(t,e,a){},"6f80":function(t,e,a){},"7fe6":function(t,e,a){"use strict";a("6f80")},"9d7d":function(t,e,a){},"9e10":function(t,e,a){"use strict";a("2021")},a5ad:function(t,e,a){"use strict";a("5d07")},d167:function(t,e,a){"use strict";a("9d7d")},d33f:function(t,e,a){"use strict";a("00cc")},ef0f:function(t,e,a){}}]);
//# sourceMappingURL=chunk-950e51d6.7b9a442a.js.map